# 7-bit Pattern Detection - BASYS-3 FPGA

BASYS-3 보드를 이용한 시프트 레지스터 기반 패턴 검출 프로젝트

## 프로젝트 개요

Xilinx BASYS-3 FPGA 보드와 Vivado를 사용하여 구현한 디지털 패턴 검출 시스템입니다. 7비트 시프트 레지스터를 사용하여 특정 이진 패턴 "1010111"을 실시간으로 검출합니다.

## 주요 기능

### 패턴 검출
- **목표 패턴**: "1010111" (7비트 이진 패턴)
- **실시간 검출**: 입력된 데이터 스트림에서 패턴 즉시 인식
- **시프트 레지스터**: 7비트 슬라이딩 윈도우 방식

### 사용자 인터페이스
- **버튼 입력**: 수동으로 '1' 또는 '0' 입력
- **LED 표시**: 현재 시프트 레지스터 상태 및 검출 결과 실시간 표시
- **디바운싱**: 안정적인 버튼 입력 처리

## 사용법

### 버튼 기능
- **btn[0]**: '1' 데이터 입력
- **btn[1]**: '0' 데이터 입력
- **reset**: 시스템 전체 리셋

### LED 출력
- **LED[15]**: 패턴 "1010111" 검출 시 점등
- **LED[14:7]**: 사용 안함 (꺼짐)
- **LED[6:0]**: 현재 시프트 레지스터 내용 실시간 표시
  - 왼쪽부터 오래된 데이터, 오른쪽이 최신 입력 데이터

### 패턴 입력 예시
목표 패턴 "1010111"을 입력하려면:
1. btn[0] 눌러서 '1' 입력
2. btn[1] 눌러서 '0' 입력  
3. btn[0] 눌러서 '1' 입력
4. btn[1] 눌러서 '0' 입력
5. btn[0] 눌러서 '1' 입력
6. btn[0] 눌러서 '1' 입력
7. btn[0] 눌러서 '1' 입력

→ LED[15]가 점등되어 패턴 검출 완료를 표시

## 시스템 구조

```
top.v (최상위 모듈)
├── sr7_pattern_detect - 7비트 시프트 레지스터 패턴 검출기
│   ├── 7비트 시프트 레지스터 (sr7)
│   ├── 패턴 비교 로직 (sr7 == 7'b1010111)
│   └── enable 신호 제어
└── button_debounce.v (×2) - 버튼 디바운싱
    ├── btn[0] 디바운싱 (10ms)
    └── btn[1] 디바운싱 (10ms)
```

## 주요 모듈 설명

### 패턴 검출기 (`sr7_pattern_detect`)
- **시프트 레지스터**: 7비트 레지스터로 데이터 스트림 저장
- **패턴 매칭**: 매 클럭마다 현재 레지스터 값과 목표 패턴 비교
- **Enable 제어**: 버튼 입력 시에만 시프트 동작
- **실시간 출력**: 레지스터 내용을 외부로 출력하여 상태 확인 가능

### 버튼 제어 로직
- **디바운싱**: 10ms 디바운싱으로 안정적인 입력 처리
- **펄스 생성**: 버튼 눌림 순간에만 1클럭 펄스 생성
- **지연 제어**: enable 신호를 1클럭 지연시켜 안정적인 시프트 동작

## 동작 원리

### 시프트 레지스터 동작
```
초기 상태: [0,0,0,0,0,0,0]

'1' 입력 → [0,0,0,0,0,0,1]
'0' 입력 → [0,0,0,0,0,1,0]  
'1' 입력 → [0,0,0,0,1,0,1]
'0' 입력 → [0,0,0,1,0,1,0]
'1' 입력 → [0,0,1,0,1,0,1]
'1' 입력 → [0,1,0,1,0,1,1]
'1' 입력 → [1,0,1,0,1,1,1] ← 패턴 검출!
```

### 패턴 검출 조건
- 시프트 레지스터 내용이 정확히 `7'b1010111`과 일치할 때
- 검출 즉시 `dout` 신호가 High로 변경
- LED[15]가 점등되어 사용자에게 검출 결과 표시

## 빌드 및 실행

### 필요 환경
- **FPGA 보드**: Xilinx BASYS-3
- **개발 도구**: Vivado Design Suite  
- **언어**: Verilog HDL

### 필요한 파일
- `top.v`: 최상위 모듈 (패턴 검출 프로젝트용)
- `button_debounce.v`: 버튼 디바운싱 모듈

### 실행 단계
1. Vivado에서 새 프로젝트 생성
2. `top.v`와 `button_debounce.v` 파일을 프로젝트에 추가
3. `top`을 최상위 모듈로 설정
4. BASYS-3 제약 파일(.xdc) 추가
5. Synthesis → Implementation → Generate Bitstream  
6. BASYS-3 보드에 프로그래밍

## 리소스 사용량

- **클럭 도메인**: 100MHz 메인 클럭
- **레지스터**: 7비트 시프트 레지스터
- **카운터**: 디바운싱용 20비트 카운터 (×2)
- **I/O 핀**: 버튼 2개, 리셋 1개, LED 16개

## 특징

- **실시간 패턴 검출**: 입력과 동시에 패턴 인식
- **시각적 피드백**: LED로 시프트 레지스터 상태 실시간 확인
- **안정적인 입력**: 10ms 디바운싱으로 깨끗한 버튼 처리
- **확장 가능**: 패턴 길이나 검출 패턴 쉽게 변경 가능
- **교육용 최적화**: 디지털 논리 및 시퀀셜 회로 학습에 적합

## 응용 분야

- **통신 시스템**: 프레임 동기 패턴 검출
- **데이터 처리**: 특정 시퀀스 인식
- **보안 시스템**: 액세스 코드 패턴 검증
- **교육**: 디지털 논리 설계 학습

---
**개발 환경**: Xilinx Vivado | **타겟 보드**: BASYS-3 | **언어**: Verilog HDL